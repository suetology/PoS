<div class="relative overflow-x-auto shadow-md sm:rounded-lg m-4">
    <table class="w-full text-sm text-left rtl:text-right text-gray-500">
        <thead class="text-xs text-gray-700 uppercase bg-gray-50">
            <tr>
                <th scope="col"> Business name </th>
                <th scope="col"> Address </th>
                <th scope="col"> Phone number </th>
                <th scope="col"> Email </th>
                <th scope="col"> Actions </th>
            </tr>
        </thead>
        @for(business of businesses$ | async ; track $index) 
        {
            <tbody>
                <tr class="bg-white border-b hover:bg-gray-50">
                    <th scope="row" class="px-6 py-4 font-medium text-gray-900 whitespace-nowrap">
                        {{ business.name }}
                    </th>
                    <td> {{ business.address }} </td>
                    <td> {{ business.phoneNumber }} </td>
                    <td> {{ business.email }} </td>
                    <td class="font-medium text-cyan-500 hover:underline cursor-pointer" (click)="logInto(business.id)">
                        Log into
                    </td>
                </tr>
            </tbody>
        }
    </table>
</div>

<div class="overflow-x-auto m-6">
    <h2 class="text-2xl font-semibold text-gray-800 mb-4">Create Business</h2>

    <form [formGroup]="businessForm" (ngSubmit)="createBusiness()" class="bg-white p-6 rounded-lg shadow-md">
        <div class="mb-4">
            <label for="name" class="block text-sm font-medium text-gray-700 mb-1">Business Name</label>
            <input
                type="text"
                id="name"
                formControlName="name"
                class="form-input w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-cyan-400 focus:border-cyan-400"
                placeholder="Enter the business name"
            />
        </div>

        <div class="mb-4">
            <label for="address" class="block text-sm font-medium text-gray-700 mb-1">Address</label>
            <input
                type="text"
                id="address"
                formControlName="address"
                class="form-input w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-cyan-400 focus:border-cyan-400"
                placeholder="Enter the business address"
            />
        </div>

        <div class="mb-4">
            <label for="phoneNumber" class="block text-sm font-medium text-gray-700 mb-1">Phone Number</label>
            <input
                type="tel"
                id="phoneNumber"
                formControlName="phoneNumber"
                class="form-input w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-cyan-400 focus:border-cyan-400"
                placeholder="Enter the phone number"
            />
        </div>

        <div class="mb-4">
            <label for="email" class="block text-sm font-medium text-gray-700 mb-1">Email</label>
            <input
                type="email"
                id="email"
                formControlName="email"
                class="form-input w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-cyan-400 focus:border-cyan-400"
                placeholder="Enter the email address"
            />
        </div>

        <button
            type="submit"
            class="mt-6 w-full text-white bg-cyan-400 hover:bg-cyan-500 font-medium rounded-lg text-sm px-5 py-2.5 text-center"
        >
            Create Business
        </button>
    </form>
</div>

<router-outlet></router-outlet>